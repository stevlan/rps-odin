<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>
    <div class="text">

    </div>
    <script>

        function getComputerChoice(){
            let num = Math.floor(Math.random() * 10) % 3;
            if(num == 0){
                return "rock";
            }
            else if (num == 1){
                return "paper"
            }
            else{
                return "scissors"
            }
        }
        
        function getHumanChoice(){
            let choice = prompt("What's your sign?");
            return choice.toLowerCase();
        }

        let humanScore = 0;
        let computerScore = 0;

        rock = document.querySelector(".rock") 
        paper = document.querySelector(".paper")
        scissors = document.querySelector(".scissors")
        section = document.querySelector("div")

        
        function playRound(humanChoice, computerChoice) {
            const para = document.createElement("p");
            if(humanChoice == "rock"){
                if(computerChoice == "scissors"){
                    para.textContent = "You won! " + humanChoice + " beats " + computerChoice;
                    humanScore++;
                }
                else if(computerChoice == "paper"){
                    para.textContent = "You lost! " + humanChoice + " loses to " + computerChoice;
                    computerScore++;
                }
                else{
                    para.textContent = "You tied! " + humanChoice + " ties " + computerChoice;
                }
            }
            else if(humanChoice == "paper"){
                if(computerChoice == "scissors"){
                    para.textContent = "You lost! " + humanChoice + " loses to " + computerChoice;
                    computerScore++;
                }
                else if(computerChoice == "rock"){
                    para.textContent = "You won! " + humanChoice + " beats " + computerChoice;
                    humanScore++;
                }
                else{
                    para.textContent = "You tied! " + humanChoice + " ties " + computerChoice;
                }
            }
            else{
                if(computerChoice == "paper"){
                    para.textContent = "You won! " + humanChoice + " beats " + computerChoice;
                    humanScore++;
                }
                else if(computerChoice == "rock"){
                    para.textContent = "You lost! " + humanChoice + " loses to " + computerChoice;
                    computerScore++;
                }
                else{
                    para.textContent = "You tied! " + humanChoice + " ties " + computerChoice;
                }
            }
            const score = document.createElement("p");
            score.textContent = "Score: " + humanScore + " - " + computerScore;
            section.appendChild(para)
            section.appendChild(score);
            if(humanScore == 5 || computerScore == 5){
                const over = document.createElement("p");
                if(humanScore == 5){
                    over.textContent = "User won";
                }
                else{
                    over.textContent = "Computer won";
                }
                section.appendChild(over);
            }
        }

        rock.addEventListener("click", ()=> playRound("rock",getComputerChoice()));
        paper.addEventListener("click", ()=> playRound("paper",getComputerChoice()));
        scissors.addEventListener("click", ()=> playRound("scissors",getComputerChoice()));

        // function playGame(){
        //     for(let i=0; i<5; i++){

        //         let humanSelection = getHumanChoice();
        //         let computerSelection = getComputerChoice();

        //         playRound(humanSelection, computerSelection);
        //     }
        // }

        // playGame();

    </script>
</body>
</html>